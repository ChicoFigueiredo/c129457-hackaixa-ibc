<head>
    <script src="http:/ajax.googleapis.com/ajax/libs/jquery/1.3/jquery.min.js" type="text/javascript"></script>
    <style>
        body {
            font-family: Tahoma;
            font-size: .8em;
        }
        
        ;
        h1 {}
    </style>
</head>
<hr>
<h1>Acesso aos Ajax e Chamadas Internet Banking - Fornecer o CPF a comiss&atilde;o para liberar essas t&eacute;cnicas</h1>
<hr>
<table width="100%">
    <tr>
        <td width="50%">
            <center>
                <b>Teste LOGIN Smartphone</b>
                <br>
                <iframe name="IBC" id="IBC" width="300px" height="500px"></iframe>
        </td>
        <td width="50%">
            <b>Recebe Seed</b> (tpSeed)
            <form id="passo1" action="https:/tgy64w74i567hklqjb-internetbanking.caixa.gov.br/sinbc/nb/tpSeed?deviceKey=YAoUUggz8KebJxOyHksSYPP0y9eBLUzFcPcb%2BbVf%2Bd24LP2zicSXUsKaWEdVW1Nxc1CQyABZX2saiVu8Xrb4v3YBSc6L6t11Tp04IgnSqsRPX6f2v%2Fvcs9rveG8cWlNjrQpwilPnPO3Vuj1wq9H7KkthuLCmu4f5%2FZOCvmy%2BCqqmmO4qzocuInJwP0eg7tIgb82QZS3yTy26tgkir%2BP%2F1PTwwyM5M7oV0c5KA9EO5uY3Hm6Au%2FpjJiIg%2FULeHGovLRHV68ZwGmDAuFyUshyuannhAOB2seY19URAeEZzYxZ36rrdVR0wBDXOmM0P5USjjjq6T4fi0yhud%2BiS%2BGn1O%2BQ4IlKv5Q%3D%3D"
                target="IBC" method="post">
                deviceKey<br>
                <input type="submit" value="Recebe chave">
            </form>
            <hr>
            <b>Envia Chave</b> (loginTp)
            <form id="passo2" action="https:/tgy64w74i567hklqjb-internetbanking.caixa.gov.br/sinbc/nb/loginTp?nocache=1489679149924&context=sinbc" target="IBC" method="get">
                cipheredKey
                <!--<input type="text" name="cipheredKey" id="cipheredKey" value="">--><br> cipheredId
                <!--<input type="text" name="cipheredId" id="cipheredId" value="">--><br> SO
                <!--<input type="text" name="SO" id="SO" value="">-->11 android phone / 12 android tablet / 13 iphone /14 ipad<br> SOVersao
                <!--<input type="text" name="SOVersao" id="SOVersao" value="">--><br> AppVersao
                <!--<input type="text" name="AppVersao" id="AppVersao" value="2.0">--><br> fresh
                <!--<input type="text" name="fresh" id="fresh" value="">--><br>
                <input type="submit" value="Enviar chave">
            </form>
            <hr>
            <b>Validar Usuario</b> (authUserNameTp)
            <form id="passo3" action="https:/tgy64w74i567hklqjb-internetbanking.caixa.gov.br/sinbc/nb/login/authUserNameTp?nocache=1489668722708" target="IBC" method="post">
                nomeUsuario: <input type="text" name="nomeUsuario" id="nomeUsuario" value="<<usuario banking>>"><br> segmento: <input type="text" name="segmento" id="segmento" value="1"><br> userAgent: <input type="text" name="userAgent" id="userAgent"
                    value="Mozilla/5.0 (iPhone; CPU iPhone OS 9_1 like Mac OS X) AppleWebKit/601.1.46 (KHTML, like Gecko) Version/9.0 Mobile/13B143 Safari/601.1"><br>
                <input type="submit" value="Enviar Usuario">
            </form>
            <hr>
            <b>Validar senha</b> (authPasswordTp)
            <form id="passo4" action="https:/tgy64w74i567hklqjb-internetbanking.caixa.gov.br/sinbc/nb/login/authPasswordTp?nocache=1489668888143" target="IBC" method="post">
                password: <input type="text" name="password" id="password" value="<<senha ibc>>"><br> userAgent: <input type="text" name="userAgent" id="userAgent" value="Mozilla/5.0 (iPhone; CPU iPhone OS 9_1 like Mac OS X) AppleWebKit/601.1.46 (KHTML, like Gecko) Version/9.0 Mobile/13B143 Safari/601.1"><br>
                <input type="submit" value="Enviar Senha">
            </form>
            <hr>
            <b>Abrir a home</b> (home#!/sinbc/nb/carrossel)
            <form id="passo5" action="https:/tgy64w74i567hklqjb-internetbanking.caixa.gov.br/sinbc/nb/home#!/sinbc/nb/carrossel" target="IBC">
                <input type="submit" value="Abrir home">
            </form>
            <hr>
            <b>Logout</b> (logout)
            <form action="https:/tgy64w74i567hklqjb-internetbanking.caixa.gov.br/sinbc/nb/logout?context=sinbc" target="IBC">
                <input type="submit" value="logout">
            </form>
        </td>
    </tr>
</table>
<br><br>
<!-- ------------------------------------------------------------------- -->
<hr>
<hr>
<table width="100%">
    <tr>
        <td width="50%">
            <center>
                <b>Teste LOGIN Tablet</b>
                <br>
                <iframe name="TABLET" id="TABLET" width="800px" height="500px"></iframe>
        </td>

        <td width="50%">

            <b>Recebe Seed</b> (tpSeed)
            <form id="passo1" action="https:/tgy64w74i567hklqjb-internetbanking.caixa.gov.br/sinbc/nb/tpSeed?SO=12&deviceKey=YAoUUggz8KebJxOyHksSYPP0y9eBLUzFcPcb%2BbVf%2Bd24LP2zicSXUsKaWEdVW1Nxc1CQyABZX2saiVu8Xrb4v3YBSc6L6t11Tp04IgnSqsRPX6f2v%2Fvcs9rveG8cWlNjrQpwilPnPO3Vuj1wq9H7KkthuLCmu4f5%2FZOCvmy%2BCqqmmO4qzocuInJwP0eg7tIgb82QZS3yTy26tgkir%2BP%2F1PTwwyM5M7oV0c5KA9EO5uY3Hm6Au%2FpjJiIg%2FULeHGovLRHV68ZwGmDAuFyUshyuannhAOB2seY19URAeEZzYxZ36rrdVR0wBDXOmM0P5USjjjq6T4fi0yhud%2BiS%2BGn1O%2BQ4IlKv5Q%3D%3D"
                target="TABLET" method="post">
                deviceKey<br>
                <input type="submit" value="Recebe chave">
            </form>
            <hr>
            <b>Envia Chave</b> (loginTp)
            <form id="passo2" action="https:/tgy64w74i567hklqjb-internetbanking.caixa.gov.br/sinbc/nb/loginTp?nocache=89679149924&context=sinbc" method="post" target="TABLET">
                cipheredKey
                <!--<input type="text" name="cipheredKey" id="cipheredKey" value="">--><br> cipheredId
                <!--<input type="text" name="cipheredId" id="cipheredId" value="">--><br> SO
                <input type="text" name="SO" id="SO" value="12"> 11 android phone / 12 android tablet / 13 iphone /14 ipad<br> SOVersao
                <!--<input type="text" name="SOVersao" id="SOVersao" value="">--><br> AppVersao
                <!--<input type="text" name="AppVersao" id="AppVersao" value="2.0">--><br> fresh
                <!--<input type="text" name="fresh" id="fresh" value="">--><br>
                <input type="submit" value="Enviar chave">
            </form>
            <hr>
            <b>Validar Usuario</b> (authUserNameTp)
            <form id="passo3" action="https:/tgy64w74i567hklqjb-internetbanking.caixa.gov.br/sinbc/nb/login/authUserNameTp?nocache=1489668722708" target="TABLET" method="post">
                nomeUsuario: <input type="text" name="nomeUsuario" id="nomeUsuario" value="<<usuario ibc>>"><br> segmento: <input type="text" name="segmento" id="segmento" value="1"><br> userAgent: <input type="text" name="userAgent" id="userAgent" value="Mozilla/5.0 (iPad; CPU OS 9_1 like Mac OS X) AppleWebKit/601.1.46 (KHTML, like Gecko) Version/9.0 Mobile/13B143 Safari/601.1"><br>
                <input type="submit" value="Enviar Usuario">
            </form>
            <hr>
            <b>Validar senha</b> (authPassword)
            <form id="passo4" action="https:/tgy64w74i567hklqjb-internetbanking.caixa.gov.br/sinbc/nb/login/authPassword?nocache=1489668888143" target="TABLET" method="post">
                password: <input type="text" name="password" id="password" value="<<senha ibc>>"><br> userAgent: <input type="text" name="userAgent" id="userAgent" value="Mozilla/5.0 (iPad; CPU OS 9_1 like Mac OS X) AppleWebKit/601.1.46 (KHTML, like Gecko) Version/9.0 Mobile/13B143 Safari/601.1"><br>                retornoF10:
                <input type="text" name="retornoF10" id="retornoF10" value=""><br>
                <input type="submit" value="Enviar Senha">
            </form>
            <hr>
            <b>Abrir a home</b> (home#!/sinbc/nb/carrossel)
            <form id="passo5" action="https:/tgy64w74i567hklqjb-internetbanking.caixa.gov.br/sinbc/nb/home#!/sinbc/nb/carrossel" target="TABLET">
                <input type="submit" value="Abrir home">
            </form>
            <hr>
            <b>Logout</b> (logout)
            <form action="https:/tgy64w74i567hklqjb-internetbanking.caixa.gov.br/sinbc/nb/logout?context=sinbc" target="TABLET">
                <input type="submit" value="logout">
            </form>
        </td>
    </tr>
</table>
<br><br>
<!-- ------------------------------------------------------------------- -->
<hr>
<hr>
<script>
    $(document).ready(function() {
        /DEFINE NAO TER CACHE NO AJAX
        $.ajaxSetup({
            cache: false
        });

        /EM CASO DE ERRO DO AJAX
        $.ajaxSetup({
            "error": function() {
                alert('Sessao encerrada!');
            }
        });


        /BUSCA SALDO
        $("#BuscaSaldo").click(function() {
            $("#HOME_DETALHE").html("Carregando..");
            $.getJSON("https:/tgy64w74i567hklqjb-internetbanking.caixa.gov.br/sinbc/nb/componentSaldo/atualizaSaldo", {
                'context': 'sinbc'
            }, function(json) {
                $("#HOME_DETALHE").html("SALDO VALOR: " + json.saldo);
                $("#HOME_DETALHE").html("SALDO VISIVEL: " + json.visivel + "<BR>" + $("#HOME_DETALHE").html() + '<br>');
                console.log(json);
                ApresentaJson(json)
            });
        });
        /OCULTA SALDO
        $("#OcultaSaldo").click(function() {
            $("#HOME_DETALHE").html("Carregando..");
            $.get("https:/tgy64w74i567hklqjb-internetbanking.caixa.gov.br/sinbc/nb/componentSaldo/atualizaIconeSaldo?nocache=149953418519e", {
                'saldoVisible': 'false',
                'context': 'sinbc',
                'rangeMinimo': '0',
                'rangeMaximo': '0'
            }, function(json) {
                $("#HOME_DETALHE").html("Concluido!<br>");
            });
        });
        /APRESENTA SALDO
        $("#ApresentaSaldo").click(function() {
            $("#HOME_DETALHE").html("Carregando..");
            $.get("https:/tgy64w74i567hklqjb-internetbanking.caixa.gov.br/sinbc/nb/componentSaldo/atualizaIconeSaldo?nocache=149953418519e", {
                'saldoVisible': 'true',
                'context': 'sinbc',
                'rangeMinimo': '0',
                'rangeMaximo': '0'
            }, function(json) {
                $("#HOME_DETALHE").html("Concluido!<br>");
            });
        });

        /CONTA
        $("#BuscaConta").click(function() {
            $("#HOME_DETALHE").html("Carregando..");
            $.getJSON("https:/tgy64w74i567hklqjb-internetbanking.caixa.gov.br/sinbc/nb/contas/listarTodasXs?nocache=1499619456235", function(json) {
                $("#HOME_DETALHE").html("Concluido!<br>");
                console.log(json)
                ApresentaJson(json)
            });
        });

        $("#AlteraConta").click(function() {
            $("#HOME_DETALHE").html("Carregando..");
            $.post("https:/tgy64w74i567hklqjb-internetbanking.caixa.gov.br/sinbc/nb/selecionaContaXs?nocache=1499619811462", {
                'chaveConta': $("#conta").val(),
                'versaoPlugin': '',
                'retornoF10': '',
                'userAgent': ''
            }, function(json) {
                $("#HOME_DETALHE").html("Concluido!<br>");
                var jsonParse;
                try {
                    jsonParse = JSON.parse(json);
                    console.log(jsonParse)
                    ApresentaJson(jsonParse)
                } catch (e) {
                    / error
                    alert("Sessao encerrada !! Erro parse json troca conta !!");
                }

            });
        });

        /CARROSSEL
        $("#BuscaMenu").click(function() {
            $("#HOME_DETALHE").html("Carregando..");
            $.getJSON("https:/tgy64w74i567hklqjb-internetbanking.caixa.gov.br/sinbc/nb/carrossel/carregar?_=1499618377719", function(json) {
                $("#HOME_DETALHE").html("Concluido!<br>");
                console.log(json) /
                    ApresentaJson(json)
            });
        });
        /ALERT
        $("#BuscaAlerta").click(function() {
            $("#HOME_DETALHE").html("Carregando..");
            $.getJSON("https:/tgy64w74i567hklqjb-internetbanking.caixa.gov.br/sinbc/nb/ferramentas/avisos/buscarAvisos?_=1499618377719", function(json) {
                $("#HOME_DETALHE").html("Concluido!<br>");
                console.log(json)
                ApresentaJson(json)
            });
        });

        /FUNCAO APRESENTA JSON
        var QtdIndentacao
        QtdIndentacao = 0;

        function ApresentaJson(json) {
            QtdIndentacao++;
            $("#HOME_DETALHE").html($("#HOME_DETALHE").html() + indentacao(QtdIndentacao) + '----------------------------------' + '<br>');
            /Apresentar em tela
            for (var ke in json) {
                if (json.hasOwnProperty(ke)) {
                    if (typeof json[ke] == 'object') {
                        $("#HOME_DETALHE").html($("#HOME_DETALHE").html() + indentacao(QtdIndentacao) + ke + ': ' + json[ke] + '<br>');
                        ApresentaJson(json[ke])
                    } else {
                        $("#HOME_DETALHE").html($("#HOME_DETALHE").html() + indentacao(QtdIndentacao) + ke + ': ' + json[ke] + '<br>');
                    }
                }
            }
            QtdIndentacao--;
        }

        function indentacao(qtd) {
            var text;
            text = '';
            for (i = 0; i < qtd; i++) {
                text = text + "&nbsp;&nbsp;&nbsp;&nbsp;";
            }
            return text;
        }
    });
</script>
<table width="100%">
    <tr>
        <td width="50%">
            <center>
                <b>Teste HOME</b>
            </center>
            <br>
            <div name="HOME_DETALHE" id="HOME_DETALHE" width="300px" height="60px" style="overflow: auto"></div>
            <center>
                <iframe name="HOME" id="HOME" width="300px" height="500px"></iframe>
        </td>

        <td width="50%">
            <b>--- SALDO ---</b><br> Consulta Saldo: <button id="BuscaSaldo">Busca Saldo</button> / json gravado no console<br>
            <form id="passo5" action="https:/tgy64w74i567hklqjb-internetbanking.caixa.gov.br/sinbc/nb/componentSaldo/atualizaSaldo?context=sinbc" target="HOME">
                Json Consulta Saldo: <input type="submit" value="Json Saldo">
            </form>
            Oculta Saldo: <button id="OcultaSaldo">Oculta Saldo</button><br> Apresenta Saldo: <button id="ApresentaSaldo">Apresenta Saldo</button><br>

            <b>--- CONTA ---</b><br> Consulta Contas: <button id="BuscaConta">Busca Contas</button> / json gravado no console<br>
            <form id="passo5" action="https:/tgy64w74i567hklqjb-internetbanking.caixa.gov.br/sinbc/nb/contas/listarTodasXs?nocache=1499619456235" target="HOME">
                Json Consulta Conta: <input type="submit" value="Json Contas">
            </form>
            Altera Conta: <button id="AlteraConta">Altera Conta</button> <input type="text" name="conta" id="conta" value="2491001300001723"><br>/ json gravado no console<br>

            <b>--- MENU CARROSSEL ---</b><br> Consulta Menu: <button id="BuscaMenu">Busca Menu</button> / json gravado no console<br>
            <form id="passo5" action="https:/tgy64w74i567hklqjb-internetbanking.caixa.gov.br/sinbc/nb/carrossel/carregar?_=1499618377719" target="HOME">
                Json Consulta Menu: <input type="submit" value="Json Saldo">
            </form>
            <b>--- ALERTA ---</b><br> Consulta Alerta: <button id="BuscaAlerta">Busca Alerta</button> / json gravado no console<br>
            <form id="passo5" action="https:/tgy64w74i567hklqjb-internetbanking.caixa.gov.br/sinbc/nb/ferramentas/avisos/buscarAvisos?_=1499618377719" target="HOME">
                Json Consulta Alerta: <input type="submit" value="Json Saldo">
            </form>


        </td>
    </tr>
</table>
<br><br>